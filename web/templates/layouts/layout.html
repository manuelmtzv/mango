<!doctype html>
<html lang="{{.Lang}}">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{{ .Title }} - Mango</title>
    <meta name="description" content="{{.Description}}" />
    <meta name="author" content="Manuel MartÃ­nez" />
    <meta name="robots" content="index, follow" />
    <link rel="icon" type="image/svg+xml" href="/static/svg/mango-primary.svg" />

    <link rel="canonical" href="{{.BaseURL}}{{.CurrentPath}}" />
    {{range .Locales}}
    <link
      rel="alternate"
      hreflang="{{.}}"
      href="{{$.BaseURL}}/{{.}}{{$.PathWithoutLocale}}"
    />
    {{end}}
    <link
      rel="alternate"
      hreflang="x-default"
      href="{{.BaseURL}}/es{{.PathWithoutLocale}}"
    />

    <meta property="og:title" content="{{.Title}}" />
    <meta property="og:description" content="{{.Description}}" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="{{.BaseURL}}{{.CurrentPath}}" />
    <meta property="og:image" content="{{.BaseURL}}/static/svg/mango-primary.svg" />
    <meta property="og:locale" content="{{if eq .Lang "es"}}es_MX{{else}}en_US{{end}}" />
    <meta property="og:site_name" content="Mango Notes" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="{{.Title}}" />
    <meta name="twitter:description" content="{{.Description}}" />
    <meta name="twitter:image" content="{{.BaseURL}}/static/svg/mango-primary.svg" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Merriweather:ital,opsz,wght@0,18..144,300..900;1,18..144,300..900&family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />

    <link href="/static/css/output.css?v={{.AssetVersion}}" rel="stylesheet" />

    <script src="/static/js/htmx.min.js?v={{.AssetVersion}}"></script>
    <script defer src="/static/js/alpine.min.js?v={{.AssetVersion}}"></script>
    <script src="/static/js/motion.min.js?v={{.AssetVersion}}"></script>

    <style>
      [x-cloak] {
        display: none !important;
      }
    </style>

    {{if .GAID}}
    <script async src="https://www.googletagmanager.com/gtag/js?id={{.GAID}}"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() { dataLayer.push(arguments); }
      gtag("js", new Date());
      gtag("config", "{{.GAID}}");
    </script>
    {{end}}

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Mango",
      "description": "{{.Description}}",
      "url": "{{.BaseURL}}",
      "applicationCategory": "Productivity",
      "operatingSystem": "Web",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "Personal notes management",
        "Tag organization",
        "Multi-language support"
      ]
    }
    </script>
  </head>
  <body
    class="flex flex-col bg-dark-900 text-gray-100 font-sans antialiased min-h-svh"
  >
    {{ template "header" . }}

    <main class="flex-1">{{ template "content" . }}</main>

    {{ template "footer" . }}
    
    <div id="modal"></div>
  </body>

  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    lucide.createIcons();
    document.body.addEventListener('htmx:afterSwap', function() {
      lucide.createIcons();
    });
  </script>
</html>
