{{ define "content" }}
<div class="container mx-auto py-8 px-4">
  <div class="flex justify-between items-center mb-8">
    <h1 class="font-serif text-3xl font-bold text-foreground">{{t "dashboard.title"}}</h1>
    <button
      class="primary-button flex items-center gap-2"
      hx-get="/{{.Lang}}/notes/new"
      hx-target="#modal"
      hx-swap="innerHTML"
    >
      <i data-lucide="plus" class="w-4 h-4"></i>
      <span>{{t "dashboard.create_note"}}</span>
    </button>
  </div>

  {{ if .Notes }}
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {{ range .Notes }}
    <div
      class="bg-dark-800/60 backdrop-blur-sm rounded-xl border border-border p-6 shadow-lg hover:shadow-xl transition-all hover:border-primary/50 group"
    >
      <h3 class="font-serif text-xl font-bold text-foreground mb-2 group-hover:text-primary transition-colors">
        {{ .Title }}
      </h3>
      <p class="text-muted-foreground text-sm mb-4 line-clamp-3">
        {{ .Content }}
      </p>
      <div class="flex flex-wrap gap-2 mb-4">
        {{ range .Tags }}
        <span class="px-2 py-1 rounded-md bg-dark-700 text-xs text-muted-foreground border border-border">
          #{{ .Name }}
        </span>
        {{ end }}
      </div>
      <div class="flex justify-between items-center text-xs text-muted-foreground mt-auto pt-4 border-t border-border/50">
        <span>{{ .UpdatedAt.Format "02 Jan 2006" }}</span>
        <div class="flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
          <button class="hover:text-primary transition-colors">
            <i data-lucide="pencil" class="w-4 h-4"></i>
          </button>
          <button class="hover:text-red-500 transition-colors">
            <i data-lucide="trash-2" class="w-4 h-4"></i>
          </button>
        </div>
      </div>
    </div>
    {{ end }}
  </div>

  <!-- Pagination -->
  {{ if gt .Meta.TotalPages 1 }}
  <div class="flex justify-center mt-12 gap-2">
    {{ if gt .Meta.Page 1 }}
    <a
      href="?page={{ sub .Meta.Page 1 }}"
      class="px-4 py-2 rounded-lg bg-dark-800 border border-border text-foreground hover:bg-dark-700 transition-colors"
    >
      Previous
    </a>
    {{ end }}
    <span class="px-4 py-2 text-muted-foreground">
      Page {{ .Meta.Page }} of {{ .Meta.TotalPages }}
    </span>
    {{ if lt .Meta.Page .Meta.TotalPages }}
    <a
      href="?page={{ add .Meta.Page 1 }}"
      class="px-4 py-2 rounded-lg bg-dark-800 border border-border text-foreground hover:bg-dark-700 transition-colors"
    >
      Next
    </a>
    {{ end }}
  </div>
  {{ end }}

  {{ else }}
  <div class="flex flex-col items-center justify-center py-20 text-center">
    <div class="w-24 h-24 bg-dark-800 rounded-full flex items-center justify-center mb-6">
      <i data-lucide="file-text" class="w-10 h-10 text-muted-foreground"></i>
    </div>
    <h3 class="text-xl font-bold text-foreground mb-2">{{t "dashboard.empty_state.title"}}</h3>
    <p class="text-muted-foreground max-w-sm mb-8">
      {{t "dashboard.empty_state.description"}}
    </p>
    <button
      class="primary-button"
      hx-get="/{{.Lang}}/notes/new"
      hx-target="#modal"
      hx-swap="innerHTML"
    >
      {{t "dashboard.create_note"}}
    </button>
  </div>
  {{ end }}
</div>
{{ end }}
